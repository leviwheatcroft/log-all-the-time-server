PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `Teams` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `active` TINYINT(1) DEFAULT 1, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
INSERT INTO Teams VALUES(1,1,'2021-09-21 22:04:54.324 +00:00','2021-09-21 22:04:54.324 +00:00');
CREATE TABLE `Users` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `email` VARCHAR(255) NOT NULL UNIQUE, `password` VARCHAR(255) NOT NULL, `passwordResetToken` VARCHAR(255), `passwordResetExpires` DATETIME, `active` TINYINT(1) DEFAULT 1, `username` VARCHAR(255) NOT NULL, `basicGrant` TINYINT(1) DEFAULT 1, `adminGrant` TINYINT(1) DEFAULT 0, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TeamId` INTEGER REFERENCES `Teams` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
INSERT INTO Users VALUES(1,'test@email.com','$2b$10$FhGPsb9t8locVowbJqFbQOpfaBhxvbwQ.QjzC78AwBRo0s2es4wpK',NULL,NULL,1,'test',1,0,'2021-09-21 22:04:54.344 +00:00','2021-09-21 22:04:54.344 +00:00',1);
CREATE TABLE `Logs` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `level` VARCHAR(255) NOT NULL, `message` VARCHAR(255) NOT NULL, `meta` VARCHAR(255), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
CREATE TABLE `Tags` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `active` TINYINT(1) DEFAULT 1, `tagName` VARCHAR(255) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TeamId` INTEGER REFERENCES `Teams` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
CREATE TABLE `Projects` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `active` TINYINT(1) DEFAULT 1, `projectName` VARCHAR(255) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TeamId` INTEGER REFERENCES `Teams` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
CREATE TABLE `Entries` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `active` TINYINT(1) DEFAULT 1, `date` DATETIME NOT NULL, `description` VARCHAR(255) NOT NULL, `duration` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TeamId` INTEGER REFERENCES `Teams` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ProjectId` INTEGER REFERENCES `Projects` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `UserId` INTEGER REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
CREATE TABLE `EntryTags` (`active` TINYINT(1) DEFAULT 1, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TagId` INTEGER NOT NULL REFERENCES `Tags` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `EntryId` INTEGER NOT NULL REFERENCES `Entries` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY (`TagId`, `EntryId`));
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('Teams',1);
INSERT INTO sqlite_sequence VALUES('Users',1);
COMMIT;
